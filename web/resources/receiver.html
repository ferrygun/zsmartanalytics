<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv='Content-Type' content='text/html;charset=UTF-8' />
<title>SAP Analytics Cloud</title>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="qrcode.min.js"></script>
<script>
	var socket = io.connect();
	    
	socket.on('connect', function () { 
		console.log("socket connected:" + socket.id);
				
		var qrcode = new QRCode(document.getElementById("qrcode"), {
			width : 250,
			height : 250
		});
	
		qrcode.makeCode("https://<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv='Content-Type' content='text/html;charset=UTF-8' />
<title>SAP Analytics Cloud</title>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="qrcode.min.js"></script>
<script>
	var socket = io.connect();
	    
	socket.on('connect', function () { 
		console.log("socket connected:" + socket.id);
				
		var qrcode = new QRCode(document.getElementById("qrcode"), {
			width : 250,
			height : 250
		});
	
		qrcode.makeCode("https://<YOUR_HANA_XSA_APP_URL>/controller.html?uid=" + socket.id);
		window.parent.postMessage('connect', '*');
	});
	     
	//Listen for req event from the remote
	socket.on('req', function(data){
	     console.log('Message from remote: ' + data.message);
	     window.parent.postMessage(data.message, '*');
	});
	    
	//Listen for disconnect even from the server
	socket.on('disconnect', function(){
		console.log('disconnect');
	    window.parent.postMessage('disconnect', '*');

	    var list = document.getElementById("qrcode");
        var child = list.lastElementChild;  
	    while (child) { 
	    	list.removeChild(child); 
	        child = list.lastElementChild; 
	    } 
        
	});
	</script>
</head>
<body>
	<div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>
</body>
</html>/controller.html?uid=" + socket.id);
		window.parent.postMessage('connect', '*');
	});
	     
	//Listen for req event from the remote
	socket.on('req', function(data){
	     console.log('Message from remote: ' + data.message);
	     window.parent.postMessage(data.message, '*');
	});
	    
	//Listen for disconnect even from the server
	socket.on('disconnect', function(){
		console.log('disconnect');
	    window.parent.postMessage('disconnect', '*');

	    var list = document.getElementById("qrcode");
        var child = list.lastElementChild;  
	    while (child) { 
	    	list.removeChild(child); 
	        child = list.lastElementChild; 
	    } 
        
	});
	</script>
</head>
<body>
	<div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>
</body>
</html>
